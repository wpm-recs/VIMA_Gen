[
  {
    "task_name": "instruction_following/stack_by_color_pattern",
    "failed_step": 2,
    "error": "setting an array element with a sequence. The requested array has an inhomogeneous shape after 2 dimensions. The detected shape was (6, 5) + inhomogeneous part.",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackByColorPattern(BaseTask):\n    \"\"\"\n    Instruction following task where the agent must stack objects in a specified color pattern,\n    such as alternating colors or a gradient sequence.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color_pattern\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 4,\n        pattern_type: str = \"alternating\",  # or \"grouped\"\n        possible_objects=None,\n        possible_colors=None,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        if possible_objects is None:\n            self.possible_objects = [\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_and_rotate",
    "failed_step": 2,
    "error": "BROWN",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import add_object_id_reverse_mapping_info\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\nimport math\n\n\nclass StackAndRotate(BaseTask):\n    \"\"\"\n    Instruction following task: Stack the specified objects in order and then rotate the entire stack around the z-axis by a given angle.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_and_rotate\"\n\n    def __init__(\n        self,\n        num_objects: int = 3,\n        possible_objects=None,\n        possible_colors=None,\n        possible_angles_of_rotation=None,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_objects\": num_objects,\n        }\n        placeholder_expression = {\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/color_pattern_stack",
    "failed_step": 2,
    "error": "'VIMAEnvBase' object has no attribute 'workspace_bounds'",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass ColorPatternStack(BaseTask):\n    \"\"\"\n    Instruction following task: Stack objects in a specified color pattern order (e.g., red, blue, green)\n    as described in the instruction.\n    \"\"\"\n\n    task_name = \"instruction_following/color_pattern_stack\"\n\n    def __init__(\n        self,\n        color_pattern: list[str] | None = None,\n        possible_objects=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        # Default color pattern from bottom to top if not provided\n        if color_pattern is None:\n            color_pattern = [\"red\", \"blue\", \"green\"]\n        self.color_pattern = color_pattern\n# ... (truncated)"
  },
  {
    "task_name": "constraint_satisfaction/stack_without_toppling",
    "failed_step": 3,
    "error": "oracle 返回 None，无法继续。",
    "code_snippet": "# group: constraint_satisfaction\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_any_object,\n    add_object_id_reverse_mapping_info,\n    p_change_texture,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackWithoutToppling(BaseTask):\n    \"\"\"\n    Stack multiple objects on top of each other without causing the stack to topple or any object to fall outside the base support area.\n    \"\"\"\n\n    task_name = \"constraint_satisfaction/stack_without_toppling\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 3,\n        possible_objects=None,\n        possible_textures=None,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        if possible_objects is None:\n            self.possible_objects = [\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color_pattern",
    "failed_step": 2,
    "error": "'VIMAEnvBase' object has no attribute 'workspace_bounds'",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n    p_change_texture,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackByColorPattern(BaseTask):\n    \"\"\"\n    Instruction following task:\n    Follow the instruction to stack objects in a specific color pattern,\n    such as alternating colors or grouping colors together.\n    The agent must correctly interpret and execute the color-based stacking order.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color_pattern\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 4,\n        pattern_type: str = \"alternating\",  # \"alternating\" or \"grouped\"\n        possible_objects=None,\n        possible_colors=None,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color",
    "failed_step": 2,
    "error": "setting an array element with a sequence. The requested array has an inhomogeneous shape after 2 dimensions. The detected shape was (4, 5) + inhomogeneous part.",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackByColor(BaseTask):\n    \"\"\"\n    Instruction following task: Stack the objects by color in the specified order from bottom to top.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 3,\n        possible_objects=None,\n        possible_colors=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_to_stack\": num_to_stack,\n        }\n        # Default possible objects if not provided\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/sort_by_color_and_shape",
    "failed_step": 2,
    "error": "'target_obj_1'",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n    p_change_texture,\n)\nimport numpy as np\nimport pybullet as p\n\n\nclass SortByColorAndShape(BaseTask):\n    \"\"\"\n    Instruction following task: Sort the objects by placing all items of a specified color and shape into the designated container.\n    \"\"\"\n\n    task_name = \"instruction_following/sort_by_color_and_shape\"\n\n    def __init__(\n        self,\n        num_objects: int = 4,\n        possible_objects=None,\n        possible_colors=None,\n        possible_container_objs=None,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_objects\": num_objects,\n        }\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color",
    "failed_step": 2,
    "error": "WHITE",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n    p_change_texture,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackByColor(BaseTask):\n    \"\"\"\n    Instruction following task: Stack the objects in order from the lightest to the darkest color.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 4,\n        possible_objects=None,\n        possible_textures=None,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        if possible_objects is None:\n            self.possible_objects = [\n                ObjPedia.BLOCK,\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color_pattern",
    "failed_step": 3,
    "error": "oracle 返回 None，无法继续。",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n    p_change_texture,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackByColorPattern(BaseTask):\n    \"\"\"\n    Instruction following task: Stack the objects according to the specified color pattern,\n    for example, alternate red and blue blocks.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color_pattern\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 4,\n        pattern_type: str = \"alternating\",  # only support \"alternating\" for now\n        possible_objects=None,\n        possible_colors=None,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        if possible_objects is None:\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color_pattern",
    "failed_step": 2,
    "error": "setting an array element with a sequence. The requested array has an inhomogeneous shape after 2 dimensions. The detected shape was (5, 5) + inhomogeneous part.",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackByColorPattern(BaseTask):\n    \"\"\"\n    Instruction following task: Stack the objects in a specific color pattern as described,\n    for example, alternating red and blue blocks.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color_pattern\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 4,\n        pattern_type: str = \"alternating\",  # \"alternating\" or \"grouped\"\n        possible_objects=None,\n        possible_colors=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_to_stack\": num_to_stack,\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/color_shape_sequence",
    "failed_step": 3,
    "error": "oracle 返回 None，无法继续。",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass ColorShapeSequence(BaseTask):\n    \"\"\"\n    Instruction following task: Follow the instruction to pick and place objects\n    in a specific sequence based on their color and shape attributes.\n    \"\"\"\n\n    task_name = \"instruction_following/color_shape_sequence\"\n\n    def __init__(\n        self,\n        num_objects: int = 3,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_objects\": num_objects,\n        }\n        placeholder_expression = {\n            f\"obj_{i+1}\": {\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color",
    "failed_step": 2,
    "error": "WHITE",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import add_object_id_reverse_mapping_info\nimport numpy as np\nimport pybullet as p\n\n\nclass StackByColor(BaseTask):\n    \"\"\"\n    Instruction following task: Stack the objects in order from lightest to darkest color.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 4,\n        possible_objects=None,\n        possible_textures=None,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_to_stack\": num_to_stack,\n        }\n        placeholder_expression = {\n            f\"dragged_obj_{i+1}\": {\n                \"types\": [\"image\", \"name\"],\n                \"prepend_color\": True,\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color_pattern",
    "failed_step": 2,
    "error": "'TexturePedia' object has no attribute 'color_value'",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import add_object_id_reverse_mapping_info\nimport numpy as np\nimport pybullet as p\nfrom vima_bench.tasks.utils import misc_utils as utils\n\n\nclass StackByColorPattern(BaseTask):\n    \"\"\"\n    Instruction following task: Stack objects in a specific color pattern as instructed,\n    such as alternating colors or grouping by color sequence.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color_pattern\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 4,\n        pattern_type: str = \"alternating\",  # only support \"alternating\" or \"grouped\"\n        possible_objects=None,\n        possible_colors=None,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_to_stack\": num_to_stack,\n            \"pattern_type\": pattern_type,\n        }\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_with_color_pattern",
    "failed_step": 2,
    "error": "<lambda>() got an unexpected keyword argument 'distance'",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackWithColorPattern(BaseTask):\n    \"\"\"\n    Instruction following task: Stack objects in a specific color pattern as described,\n    for example, red object on green object on blue object.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_with_color_pattern\"\n\n    def __init__(\n        self,\n        color_pattern: list[str] | None = None,\n        possible_objects=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        # Default color pattern from bottom to top if not provided\n        if color_pattern is None:\n            color_pattern = [\"red\", \"green\", \"blue\"]\n        self.color_pattern = color_pattern\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color_then_rotate",
    "failed_step": 2,
    "error": "Invalid input: expected positionA [x,y,z], orientationA [x,y,z,w], positionB, orientationB.",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\nimport math\n\n\nclass StackByColorThenRotate(BaseTask):\n    \"\"\"\n    Instruction following task where the agent must first stack objects by their color\n    and then rotate the entire stack around the z-axis.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color_then_rotate\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 3,\n        possible_objects=None,\n        possible_colors=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_to_stack\": num_to_stack,\n# ... (truncated)"
  },
  {
    "task_name": "constraint_satisfaction/stack_without_toppling",
    "failed_step": 2,
    "error": "BROWN",
    "code_snippet": "# group: constraint_satisfaction\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackWithoutToppling(BaseTask):\n    \"\"\"\n    Stack multiple objects on top of each other to form a stable tower without causing any objects to topple or fall over.\n    \"\"\"\n\n    task_name = \"constraint_satisfaction/stack_without_toppling\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 3,\n        possible_objects=None,\n        possible_textures=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        if possible_objects is None:\n            self.possible_objects = [\n                ObjPedia.BLOCK,\n                ObjPedia.SHORTER_BLOCK,\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color_and_shape",
    "failed_step": 3,
    "error": "oracle 返回 None，无法继续。",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackByColorAndShape(BaseTask):\n    \"\"\"\n    Instruction following task: Stack objects in order based on their color and shape as specified in the instruction.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color_and_shape\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 3,\n        possible_objects=None,\n        possible_colors=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_to_stack\": num_to_stack,\n        }\n        if possible_objects is None:\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color_and_shape",
    "failed_step": 3,
    "error": "oracle 返回 None，无法继续。",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackByColorAndShape(BaseTask):\n    \"\"\"\n    Instruction following task: Stack objects by grouping all items of the same color and shape\n    together in separate piles.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color_and_shape\"\n\n    def __init__(\n        self,\n        num_colors: int = 2,\n        num_shapes: int = 2,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_colors\": num_colors,\n            \"num_shapes\": num_shapes,\n        }\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_and_rotate",
    "failed_step": 2,
    "error": "an integer is required (got type NoneType)",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\nimport math\n\n\nclass StackAndRotate(BaseTask):\n    \"\"\"\n    Instruction following task where the agent must stack specified objects in a given order\n    and then rotate the entire stack by a specified angle around the z-axis.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_and_rotate\"\n\n    def __init__(\n        self,\n        num_objects: int = 3,\n        possible_objects=None,\n        possible_colors=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_objects\": num_objects,\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color_and_shape",
    "failed_step": 3,
    "error": "oracle 返回 None，无法继续。",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackByColorAndShape(BaseTask):\n    \"\"\"\n    Instruction following task: Stack objects by first grouping them by color and then by shape,\n    placing one group on top of another in the specified order.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color_and_shape\"\n\n    def __init__(\n        self,\n        num_colors: int = 2,\n        num_shapes_per_color: int = 2,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_colors\": num_colors,\n            \"num_shapes_per_color\": num_shapes_per_color,\n            \"num_to_stack\": num_colors * num_shapes_per_color,\n# ... (truncated)"
  },
  {
    "task_name": "constraint_satisfaction/stack_without_toppling",
    "failed_step": 3,
    "error": "oracle 返回 None，无法继续。",
    "code_snippet": "# group: constraint_satisfaction\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n    p_change_texture,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackWithoutToppling(BaseTask):\n    \"\"\"\n    Task requiring the agent to stack multiple objects into a stable tower without causing any object to topple or fall over.\n    \"\"\"\n\n    task_name = \"constraint_satisfaction/stack_without_toppling\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 3,\n        possible_objects=None,\n        possible_textures=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        if possible_objects is None:\n            self.possible_objects = [\n                ObjPedia.BLOCK,\n# ... (truncated)"
  },
  {
    "task_name": "constraint_satisfaction/stack_without_toppling",
    "failed_step": 2,
    "error": "'ObjPedia' object has no attribute 'size_range'",
    "code_snippet": "# group: constraint_satisfaction\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import (\n    add_object_id_reverse_mapping_info,\n)\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackWithoutToppling(BaseTask):\n    \"\"\"\n    Stack multiple objects in a specified order without causing the stack to topple or fall over.\n    \"\"\"\n\n    task_name = \"constraint_satisfaction/stack_without_toppling\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 3,\n        possible_objects=None,\n        possible_textures=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        if possible_objects is None:\n            self.possible_objects = [\n                ObjPedia.BLOCK,\n                ObjPedia.SHORTER_BLOCK,\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color_then_rotate",
    "failed_step": 2,
    "error": "'ObjPedia' object has no attribute 'size_range'",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import add_object_id_reverse_mapping_info, p_change_texture\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\nimport math\n\n\nclass StackByColorThenRotate(BaseTask):\n    \"\"\"\n    Instruction following task: First stack the objects by their color order,\n    then rotate the entire stack 180 degrees around the z-axis.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color_then_rotate\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 3,\n        possible_objects=None,\n        possible_colors=None,\n        oracle_max_steps: int = 8,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        if possible_objects is None:\n            self.possible_objects = [\n                ObjPedia.BLOCK,\n                ObjPedia.SHORTER_BLOCK,\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_in_color_order",
    "failed_step": 2,
    "error": "Cannot find provided color white",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import add_object_id_reverse_mapping_info\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackInColorOrder(BaseTask):\n    \"\"\"\n    Instruction following task: Stack the objects in order from lightest to darkest color.\n    The agent must identify and arrange objects based on their color gradients.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_in_color_order\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 4,\n        possible_objects=None,\n        possible_textures=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        if possible_objects is None:\n            self.possible_objects = [\n                ObjPedia.BLOCK,\n                ObjPedia.SHORTER_BLOCK,\n                ObjPedia.L_BLOCK,\n# ... (truncated)"
  },
  {
    "task_name": "instruction_following/stack_by_color_pattern",
    "failed_step": 2,
    "error": "'>' not supported between instances of 'NoneType' and 'int'",
    "code_snippet": "# group: instruction_following\nfrom vima_bench.tasks.task_suite.base import BaseTask, ResultTuple\nfrom vima_bench.tasks.components.encyclopedia import ObjPedia, TexturePedia\nfrom vima_bench.tasks.components.placeholders import PlaceholderObj\nfrom vima_bench.tasks.utils.pybullet_utils import add_object_id_reverse_mapping_info\nfrom vima_bench.tasks.utils import misc_utils as utils\nimport numpy as np\nimport pybullet as p\n\n\nclass StackByColorPattern(BaseTask):\n    \"\"\"\n    Instruction following task: Stack the objects in a specific color pattern as described in the instruction.\n    The objects are stacked from bottom to top following the color pattern.\n    \"\"\"\n\n    task_name = \"instruction_following/stack_by_color_pattern\"\n\n    def __init__(\n        self,\n        num_to_stack: int = 4,\n        possible_objects=None,\n        possible_colors=None,\n        oracle_max_steps: int = 6,\n        obs_img_views=None,\n        obs_img_size=(128, 256),\n        placeholder_img_size=(128, 256),\n        seed=None,\n        debug=False,\n    ):\n        task_meta = {\n            \"num_to_stack\": num_to_stack,\n        }\n        # Prepare placeholder expressions for each dragged object with color prepended\n        placeholder_expression = {\n# ... (truncated)"
  }
]